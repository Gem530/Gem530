var e=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(r,s,t)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;import{u as d}from"./vuex.b2bad02e.js";import{b as i,u}from"./vue-router.56cbfc75.js";import{j as c,k as m}from"./index.6d4ecc06.js";import{G as p}from"./index.11dd3aa5.js";import{d as b,r as f,l,o as I,e as j,m as v,z as y,u as O}from"./@vue.17df1b64.js";import"./axios.e7b69eb3.js";import"./index.66dbd3b8.js";import"./vuex-persistedstate.fa252374.js";const g={class:"contanir component theme"},h=b((x=((e,r)=>{for(var s in r||(r={}))a.call(r,s)&&n(e,s,r[s]);if(t)for(var s of t(r))o.call(r,s)&&n(e,s,r[s]);return e})({},{name:"MyFriend"}),r(x,s({setup(e){const r=d(),s=i(),t=u(),a=f({userId:r.getters.user.userId,friendId:s.query.id,userInfo:{Id:0,name:"",avator:""}});l((()=>{})),c(a.friendId).then((e=>{a.userInfo=e.data[0]})).catch((e=>{p({type:"error",message:"获取用户信息失败："+e.message})}));const o=()=>{const e={sendId:Number(a.userId),recvId:Number(a.friendId)};m(e).then((e=>{t.push("/chat")})).catch((e=>{p({type:"error",message:"添加好友失败："+e.message})}))};return(e,r)=>(I(),j("div",g,[v("div",null,"Id："+y(O(a).userInfo.Id),1),v("div",null,"名称："+y(O(a).userInfo.name),1),v("div",null,[v("button",{onClick:o},"添加好友")])]))}}))));var x;export{h as default};

var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,l=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&s(e,r,t[r]);if(a)for(var r of a(t))o.call(t,r)&&s(e,r,t[r]);return e},n=(e,a)=>t(e,r(a));import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{d as h,a as c,r as u,l as g,n as m,o as d,e as y,m as f,f as v,u as w}from"./@vue.17df1b64.js";var x=p(h(n(l({},{name:"g-poster"}),{props:{list:null},setup(e){const t=e,r=c(),a=c(),i=u({width:0,height:0});g((()=>{i.width=a.value.clientWidth,i.height=a.value.clientHeight,r.value.width=i.width,r.value.height=i.height,m((()=>{o()}))}));const o=async()=>{const e=r.value.getContext("2d");for(let r=0;r<t.list.length;r++){const a=t.list[r];"image"===a.type&&await s(e,a.url,a.x,a.y,a.width,a.height),"text"===a.type&&await l(e,a.url,a.x,a.y,a.color,a.font)}},s=(e,t,r,a,i,o)=>new Promise(((s,l)=>{const n=new Image;n.crossorigin="Anonymous",n.src=t,n.onload=()=>{e.beginPath(),e.drawImage(n,r,a,i,o),s(!0)},n.onerror=()=>{l()}})),l=(e,t,r,a,i,o="16px Arial")=>new Promise((s=>{e.beginPath(),e.font=o,e.fillStyle=i,e.fillText(t,r,a),s(!0)}));return(e,t)=>(d(),y("div",{class:"canvas-box component theme",ref_key:"canvasParent",ref:a},[f("canvas",{id:"mycanvas",ref_key:"canvas",ref:r},null,512)],512))}})),[["__scopeId","data-v-0b39d899"]]);const b={class:"contanir theme"},P={style:{width:"400px",height:"710px"}},j=h(n(l({},{name:"poster"}),{setup(e){const t=u({list:[{type:"image",url:"https://gem530.github.io/img/u=1819817697,2457372120&fm=26&fmt=auto&gp=0.jpg",x:0,y:0,width:400,height:714},{type:"text",url:"非人学院",x:120,y:140,color:"red",font:"40px Arial"},{type:"image",url:"https://gem530.github.io/img/lADPD26eNnXBjezNAuPNAuM_739_739.jpg",x:10,y:630,width:70,height:70},{type:"text",url:"绘制文字",x:100,y:640,color:"white",font:"16px Arial"}]});return g((()=>{})),(e,r)=>(d(),y("div",b,[f("div",P,[v(x,{list:w(t).list},null,8,["list"])])]))}}));export{j as default};

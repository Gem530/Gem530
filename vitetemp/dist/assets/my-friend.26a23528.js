var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,d=(s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;import{u as n}from"./vuex.b2bad02e.js";import{u as o}from"./vue-router.56cbfc75.js";import{u as c,b as l,c as p,d as u}from"./index.6d4ecc06.js";import{G as f}from"./index.11dd3aa5.js";import{_ as m}from"./plugin-vue_export-helper.21dcd24c.js";import{d as v,r as y,l as b,o as g,e as h,m as j,u as k,F as L,v as I,z as O,D as x,E as _,G as C}from"./@vue.17df1b64.js";import"./axios.e7b69eb3.js";import"./index.66dbd3b8.js";import"./vuex-persistedstate.fa252374.js";const q=e=>(_("data-v-521693e3"),e=e(),C(),e),P={class:"contanir component theme"},w={class:"title"},R=x(" 我的好友列表 "),G={class:"friend-list friend-request-list"},D=q((()=>j("div",{class:"friend-title"},"好友申请列表",-1))),E=["onClick"],F=["onClick"],z={key:1,class:"friend-empty"},M={class:"friend-list"},S=q((()=>j("div",{class:"friend-title"},"好友列表",-1))),A={key:1,class:"friend-empty"},B={class:"friend-list"},H=q((()=>j("div",{class:"friend-title"},"群列表",-1))),J={key:1,class:"friend-empty"},K=v((N=((e,s)=>{for(var t in s||(s={}))i.call(s,t)&&d(e,t,s[t]);if(r)for(var t of r(s))a.call(s,t)&&d(e,t,s[t]);return e})({},{name:"MyFriend"}),s(N,t({setup(e){const s=n(),t=o(),r=y({userId:s.getters.user.userId,groupList:[],friendList:[],friendRequestList:[]});b((()=>{}));const i=()=>{c(r.userId).then((e=>{r.friendList=e.data})).catch((e=>{f({type:"error",message:"获取好友列表失败："+e.message})}))};i(),l(r.userId).then((e=>{r.groupList=e.data})).catch((e=>{f({type:"error",message:"获取群列表失败："+e.message})}));const a=()=>{p(r.userId).then((e=>{r.friendRequestList=e.data})).catch((e=>{f({type:"error",message:"获取好友申请列表失败："+e.message})}))};a();const d=(e,s)=>{u({id:e,state:s}).then((()=>{i(),a()})).catch((e=>{f({type:"error",message:"好友申请处理失败："+e.message})}))};return(e,s)=>(g(),h("div",P,[j("div",w,[R,j("button",{onClick:s[0]||(s[0]=e=>k(t).push("/friends"))},"去添加好友"),j("button",{onClick:s[1]||(s[1]=e=>k(t).push("/createGroup"))},"建群")]),j("div",G,[D,k(r).friendRequestList.length?(g(!0),h(L,{key:0},I(k(r).friendRequestList,(e=>(g(),h("div",{key:e.send_id,class:"friend-item"},[j("div",null,O(e.name),1),j("div",null,[j("button",{onClick:s=>d(e.Id,1)},"同意",8,E),j("button",{onClick:s=>d(e.Id,2)},"拒绝",8,F)])])))),128)):(g(),h("div",z,"没有更多了"))]),j("div",M,[S,k(r).friendList.length?(g(!0),h(L,{key:0},I(k(r).friendList,(e=>(g(),h("div",{key:e.Id,class:"friend-item"},O(e.name),1)))),128)):(g(),h("div",A,"没有更多了"))]),j("div",B,[H,k(r).groupList.length?(g(!0),h(L,{key:0},I(k(r).groupList,(e=>(g(),h("div",{key:e.friend_id,class:"friend-item"},O(e.group_name),1)))),128)):(g(),h("div",J,"没有更多了"))])]))}}))));var N,Q=m(K,[["__scopeId","data-v-521693e3"]]);export{Q as default};

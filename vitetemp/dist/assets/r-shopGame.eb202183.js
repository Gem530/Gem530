var v=Object.defineProperty,E=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var _=(u,e,a)=>e in u?v(u,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[e]=a,c=(u,e)=>{for(var a in e||(e={}))k.call(e,a)&&_(u,a,e[a]);if(b)for(var a of b(e))C.call(e,a)&&_(u,a,e[a]);return u},l=(u,e)=>E(u,F(e));import{G as f}from"./index.b294b21a.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import{d as w,r as x,w as N,o as r,e as d,v as o,z as B,u as m,F as P,q as $,t as I,B as S,D as T,E as L,l as M,O as R,f as z,G as A}from"./@vue.10c5446f.js";const y=[{id:0,name:"\u5956\u52B111",image:"https://img2.baidu.com/it/u=3719466279,99109861&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",type:1,number:1},{id:1,name:"\u5956\u52B122",image:"https://img1.baidu.com/it/u=1735623407,4117002237&fm=253&fmt=auto&app=138&f=JPEG?w=616&h=500",type:1,number:1},{id:2,name:"\u5956\u52B133",image:"https://img1.baidu.com/it/u=2644452384,3800439215&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",type:1,number:1},{id:3,name:"\u5956\u52B144",image:"https://img1.baidu.com/it/u=3002983824,1456869839&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=501",type:1,number:1},{id:4,name:"\u5956\u52B155",image:"https://img1.baidu.com/it/u=1821938405,180668334&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",type:1,number:1},{id:5,name:"\u5956\u52B166",image:"https://img2.baidu.com/it/u=3719466279,99109861&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",type:1,number:1},{id:6,name:"\u5956\u52B177",image:"https://img2.baidu.com/it/u=240595935,690204872&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400",type:1,number:1},{id:7,name:"\u5956\u52B188",image:"https://img1.baidu.com/it/u=633678651,1473215387&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",type:1,number:1}];const V=u=>(T("data-v-1bb4bc98"),u=u(),L(),u),q=V(()=>o("div",null,"\u62BD\u5956",-1)),O=["src"],j={name:"g-shopGame"},H=w(l(c({},j),{props:{gift:{type:Number,default:0},number:{type:Number,default:0},width:{type:Number,default:300},height:{type:Number,default:300},list:{type:Array,default:()=>y}},emits:["luckResult"],setup(u,{emit:e}){const a=u,t=x({maxCount:6,number:0,speed:150,count:0,index:0,gift:0,flag:!0,list:y});N(a,(i,D)=>{t.gift=i.gift,t.number=i.number,i.list&&i.list.length&&(t.list=i.list)},{deep:!0,immediate:!0});const s=()=>{if(!t.flag){f({message:"\u6B63\u5728\u62BD\u5956\u4E2D\uFF0C\u8BF7\u52FF\u91CD\u590D\u70B9\u51FB",type:"error",duration:1e3});return}if(!t.number){f({message:"\u5DF2\u65E0\u62BD\u5956\u6B21\u6570",type:"error",duration:1e3});return}t.flag=!1,g()};let n;const g=()=>{n=setTimeout(()=>{t.count+=1,t.index=t.index<t.list.length-1?t.index+=1:0,t.count>t.maxCount+16&&t.index===t.gift?(clearTimeout(n),G()):(g(),t.speed=t.count<t.maxCount+3?t.speed-=5:t.speed+=15)},t.speed)},G=()=>{t.speed=150,t.count=0,t.flag=!0,e("luckResult",t.list[t.index])};return(i,D)=>(r(),d("div",{class:"contanir",style:S(`width: ${a.width/10}rem;height: ${a.height/10}rem;`)},[o("div",{class:"start-btn",onClick:s},[q,o("div",null,"("+B(m(t).number)+")\u6B21",1)]),(r(!0),d(P,null,$(m(t).list,(h,p)=>(r(),d("div",{key:p,class:I(["item-btn",`item${p}`,m(t).index===p?"active-btn":""])},[o("img",{src:h.image,alt:""},null,8,O),o("div",null,B(h.name),1)],2))),128))],4))}}));var K=J(H,[["__scopeId","data-v-1bb4bc98"]]);const Q={class:"contanir"},U=A(" \u4E5D\u5BAB\u683C\u62BD\u5956 "),W={name:"shopGame"},et=w(l(c({},W),{setup(u){const e=x({gift:5,number:5,list:[]});M(()=>{e.gift=t(0,7),e.number=t(0,7)}),R(()=>{});const a=s=>{f({message:"\u62BD\u5956\u6210\u529F:"+s.name,type:"success",duration:2e3}),e.number-=1,e.gift=t(0,7)},t=(s,n)=>Math.floor(Math.random()*(n-s)+s);return(s,n)=>(r(),d("div",Q,[U,z(K,{gift:m(e).gift,list:m(e).list,width:350,height:350,number:m(e).number,onLuckResult:a},null,8,["gift","list","number"])]))}}));export{et as default};

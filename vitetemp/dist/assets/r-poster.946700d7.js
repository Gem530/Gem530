var E=Object.defineProperty,I=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var m=(n,t,e)=>t in n?E(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,d=(n,t)=>{for(var e in t||(t={}))D.call(t,e)&&m(n,e,t[e]);if(g)for(var e of g(t))T.call(t,e)&&m(n,e,t[e]);return n},p=(n,t)=>I(n,j(t));import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import{d as x,a as f,r as v,l as y,n as M,o as w,e as P,m as A,f as V,u as $}from"./@vue.e9e6dad2.js";const z={name:"g-poster"},H=x(p(d({},z),{props:{list:null},setup(n){const t=n,e=f(),r=f(),l=v({width:0,height:0});y(()=>{l.width=r.value.clientWidth,l.height=r.value.clientHeight,e.value.width=l.width,e.value.height=l.height,M(()=>{B()})});const B=async()=>{const s=e.value.getContext("2d");for(let o=0;o<t.list.length;o++){const a=t.list[o];a.type==="image"&&await b(s,a.url,a.x,a.y,a.width,a.height),a.type==="text"&&await k(s,a.url,a.x,a.y,a.color,a.font)}},b=(s,o,a,c,u,h)=>new Promise((_,N)=>{const i=new Image;i.crossorigin="Anonymous",i.src=o,i.onload=()=>{s.beginPath(),s.drawImage(i,a,c,u,h),_(!0)},i.onerror=()=>{N()}}),k=(s,o,a,c,u,h="16px Arial")=>new Promise(_=>{s.beginPath(),s.font=h,s.fillStyle=u,s.fillText(o,a,c),_(!0)});return(s,o)=>(w(),P("div",{class:"canvas-box component theme",ref_key:"canvasParent",ref:r},[A("canvas",{id:"mycanvas",ref_key:"canvas",ref:e},null,512)],512))}}));var S=C(H,[["__scopeId","data-v-0b39d899"]]);const W={class:"contanir theme"},X={style:{width:"400px",height:"710px"}},q={name:"poster"},K=x(p(d({},q),{setup(n){const t=v({list:[{type:"image",url:"https://gem530.github.io/img/u=1819817697,2457372120&fm=26&fmt=auto&gp=0.jpg",x:0,y:0,width:400,height:714},{type:"text",url:"\u975E\u4EBA\u5B66\u9662",x:120,y:140,color:"red",font:"40px Arial"},{type:"image",url:"https://gem530.github.io/img/lADPD26eNnXBjezNAuPNAuM_739_739.jpg",x:10,y:630,width:70,height:70},{type:"text",url:"\u7ED8\u5236\u6587\u5B57",x:100,y:640,color:"white",font:"16px Arial"}]});return y(()=>{}),(e,r)=>(w(),P("div",W,[A("div",X,[V(S,{list:$(t).list},null,8,["list"])])]))}}));export{K as default};

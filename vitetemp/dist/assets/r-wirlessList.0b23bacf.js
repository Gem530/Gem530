var L=Object.defineProperty,$=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var x=(s,e,t)=>e in s?L(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,_=(s,e)=>{for(var t in e||(e={}))C.call(e,t)&&x(s,t,e[t]);if(v)for(var t of v(e))M.call(e,t)&&x(s,t,e[t]);return s},h=(s,e)=>$(s,S(e));import{_ as V}from"./index.be58f898.js";import{d as y,a as p,r as H,w as W,c as z,y as N,n as w,o as n,g as c,l as d,F,j,u as m,q,O as D,B as E,t as k,x as I,C as O}from"./@vue.a7176b8e.js";import"./vuex.5b78a150.js";import"./vue-router.760322c3.js";import"./vuex-persistedstate.fa252374.js";const A={class:"component theme"},G={name:"g-wirless-list"},J=y(h(_({},G),{props:{list:{default:()=>[]},showNum:{default:10},itemHeight:{default:30}},emits:["loadmore"],setup(s,{emit:e}){const t=s,r=p(),i=p(),a=p(),l=H({start:0,end:t.showNum});W(()=>t.list,(o,u)=>{w(()=>{g()})},{deep:!0});const b=z(()=>t.list.slice(l.start,l.end));N(()=>{g()});const B=()=>{const o=i.value;o.scrollHeight-o.scrollTop-5<=o.clientHeight&&e("loadmore",!0);let u=i.value.scrollTop;l.start=Math.round(u/t.itemHeight),l.end=l.start+t.showNum,r.value.style.top=l.start*t.itemHeight+"px"},g=()=>{const o=i.value;o.style.height=t.itemHeight*t.showNum+"px",a.value.style.height=t.itemHeight*t.list.length+"px",w(()=>{o.scrollHeight-o.scrollTop-5<=o.clientHeight&&e("loadmore",!0)})};return(o,u)=>(n(),c("div",A,[d("div",{class:"list-wrap",ref_key:"listWrap",ref:i,onScroll:B},[d("div",{class:"scroll-bar",ref_key:"scrollBar",ref:a},null,512),d("div",{class:"list",ref_key:"list",ref:r},[(n(!0),c(F,null,j(m(b),(f,T)=>(n(),c("div",{key:T,style:q(`height: ${t.itemHeight}px;`)},[D(o.$slots,"default",{item:f},()=>[E(k(f),1)],!0)],4))),128))],512)],544)]))}}));var K=V(J,[["__scopeId","data-v-e5e27f92"]]);const P={class:"contanir theme"},Q={style:{color:"red","box-sizing":"border-box",border:"1px solid blue"}},R={name:"wirlessList"},st=y(h(_({},R),{setup(s){const e=H({list:[1,2,3,4,5,6,7,8,9,10],showNum:10,itemHeight:30});N(()=>{console.log("onMounted")});const t=r=>{e.list=[...e.list,1,2,3,4,5,6,7,8,9,10]};return(r,i)=>(n(),c("div",P,[I(K,{list:m(e).list,showNum:m(e).showNum,itemHeight:m(e).itemHeight,onLoadmore:t},{default:O(a=>[d("div",Q,k(a.item),1)]),_:1},8,["list","showNum","itemHeight"])]))}}));export{st as default};

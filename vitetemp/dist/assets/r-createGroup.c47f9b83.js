var v=Object.defineProperty,y=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var l=(u,s,e)=>s in u?v(u,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[s]=e,f=(u,s)=>{for(var e in s||(s={}))L.call(s,e)&&l(u,e,s[e]);if(m)for(var e of m(s))k.call(s,e)&&l(u,e,s[e]);return u},_=(u,s)=>y(u,A(s));import{d as B,r as C,l as D,o as n,e as i,m as p,u as c,F as E,v as G,y as I,z as N,B as x,O as b}from"./@vue.fb42abb7.js";import{u as M}from"./vuex.98bef695.js";import{u as S}from"./vue-router.976535db.js";import{u as z,h as P}from"./index.b27fe81c.js";import{G as d}from"./index.67903aaa.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./axios.e7b69eb3.js";import"./index.6f7a580a.js";import"./vuex-persistedstate.fa252374.js";const U={class:"contanir theme"},V={class:"friend-list"},q=["onClick"],w={key:1,class:"friend-empty"},O={name:"createGroup"},T=B(_(f({},O),{setup(u){const s=M();S();const e=C({groupName:"",userId:s.getters.user.userId,friendList:[],friendRequestList:[]});D(()=>{}),(()=>{z(e.userId).then(t=>{e.friendList=t.data,e.friendList.forEach(r=>{r.choose=!1})}).catch(t=>{d({type:"error",message:"\u83B7\u53D6\u597D\u53CB\u5217\u8868\u5931\u8D25\uFF1A"+t.message})})})();const F=t=>{t.choose=!t.choose},h=()=>{const t=e.friendList.filter(o=>o.choose);let r="";return e.groupName?t.length||(r="\u8BF7\u8F93\u5165\u9009\u62E9\u7FA4\u6210\u5458"):r="\u8BF7\u8F93\u5165\u7FA4\u540D",r},g=()=>{const t=h();if(t){d({type:"error",message:t});return}const r=e.friendList.filter(a=>a.choose).map(a=>({id:a.friend_id,type:0}));r.push({id:s.getters.user.userId,type:1});const o={groupName:e.groupName,members:r};P(o).then(a=>{d({type:"success",message:"\u5EFA\u7FA4\u6210\u529F"})}).catch(a=>{d({type:"error",message:"\u5EFA\u7FA4\u6210\u529F\u5931\u8D25\uFF1A"+a.message})})};return(t,r)=>(n(),i("div",U,[p("div",V,[c(e).friendList.length?(n(!0),i(E,{key:0},G(c(e).friendList,o=>(n(),i("div",{key:o.friend_id,class:I({"friend-item":!0,active:o.choose}),onClick:a=>F(o)},N(o.name),11,q))),128)):(n(),i("div",w,"\u6CA1\u6709\u66F4\u591A\u4E86"))]),x(p("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=o=>c(e).groupName=o),placeholder:"\u8BF7\u8F93\u5165\u7FA4\u540D"},null,512),[[b,c(e).groupName]]),p("button",{onClick:g},"\u5EFA\u7FA4")]))}}));var se=R(T,[["__scopeId","data-v-74e79c13"]]);export{se as default};

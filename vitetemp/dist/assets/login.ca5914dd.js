var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,i=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&r(e,a,t[a]);if(s)for(var a of s(t))n.call(t,a)&&r(e,a,t[a]);return e},d=(e,s)=>t(e,a(s));import{d as l,a as c,w as p,o as m,e as u,n as f,r as h,l as b,m as g,B as v,O as y,u as x,f as j,y as w,E as O,G as P}from"./@vue.17df1b64.js";import{u as k}from"./vuex.b2bad02e.js";import{u as S}from"./vue-router.56cbfc75.js";import{r as _}from"./index.6d4ecc06.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import{G as A}from"./index.11dd3aa5.js";import"./axios.e7b69eb3.js";import"./index.66dbd3b8.js";import"./vuex-persistedstate.fa252374.js";const B=["width","height"];var C=I(l(d(i({},{name:"g-code"}),{props:{w:{default:320},h:{default:150},num:{default:"1000"}},setup(e){const t=e,a=c();p((()=>t.num),((e,t)=>{f((()=>{s()}))}),{deep:!0,immediate:!0});const s=()=>{var e=a.value,s=e.getContext("2d");s.clearRect(0,0,e.width,e.height);const o=e.height/2;s.font=o+"px bold 黑体",s.fillStyle="#fff",s.textAlign="center",s.textBaseline="middle",s.fillText(t.num,e.width/2,e.height/2)};return(e,s)=>(m(),u("canvas",{ref_key:"loginCheckout",ref:a,width:t.w,height:t.h},"当前浏览器不支持canvas，请更换浏览器后再试",8,B))}})),[["__scopeId","data-v-2c5d53cc"]]);const U=e=>(O("data-v-2ed7ff38"),e=e(),P(),e),G={class:"contanir theme"},N=U((()=>g("div",{class:"login-title"},"LOGIN",-1))),V={class:"form-input"},E=U((()=>g("span",null,"账 号：",-1))),J={class:"form-input"},M=U((()=>g("span",null,"密 码：",-1))),D={class:"form-input code"};var L=I(l(d(i({},{name:"login"}),{setup(e){const t=k(),a=S(),s=h({num:"",name:"admin",pass:"admin",code:""}),o=/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent);t.dispatch("setBaseAction",{isPc:!o}),b((()=>{}));const n=()=>{s.num=Math.floor(9e3*Math.random()+1e3),s.code=s.num};n();const r=()=>s.name?s.pass?s.code.toString()===s.num.toString()||"验证码不一致":"密码不能为空":"账号不能为空",i=()=>{if(!0!==r())return A({message:r(),type:"error",duration:1500}),!1;t.dispatch("setUserAction",{name:"admin",avator:"",userId:0}),sessionStorage.setItem("token","is-token"),a.push("/index")},d=()=>{const e={name:s.name,pass:s.pass};_(JSON.parse(JSON.stringify(e))).then((e=>{A({message:e.message,type:"success",duration:2e3})})).catch((e=>{A({message:"注册失败："+e.message,type:"error",duration:2e3})}))};return(e,a)=>(m(),u("div",G,[g("div",{class:w(["box",{"box-mobile":!x(t).getters.base.isPc}])},[N,g("div",V,[E,v(g("input",{type:"text",placeholder:"账号：admin","onUpdate:modelValue":a[0]||(a[0]=e=>x(s).name=e)},null,512),[[y,x(s).name]])]),g("div",J,[M,v(g("input",{type:"password",placeholder:"密码：admin","onUpdate:modelValue":a[1]||(a[1]=e=>x(s).pass=e)},null,512),[[y,x(s).pass]])]),g("div",D,[v(g("input",{type:"text",placeholder:"请输入验证码","onUpdate:modelValue":a[2]||(a[2]=e=>x(s).code=e)},null,512),[[y,x(s).code]]),j(C,{num:x(s).num,w:60,h:30,onClick:n},null,8,["num"])]),g("button",{onClick:i},"登录"),g("button",{onClick:d},"注册")],2)]))}})),[["__scopeId","data-v-2ed7ff38"]]);export{L as default};

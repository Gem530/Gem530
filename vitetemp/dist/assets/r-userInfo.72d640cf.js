var e=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(r,s,t)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;import{u as i}from"./vuex.98bef695.js";import{b as d,u}from"./vue-router.976535db.js";import{j as m,k as p}from"./index.b27fe81c.js";import{G as b}from"./index.38d188b9.js";import{d as c,r as f,l,o as I,e as j,m as v,z as y,u as O}from"./@vue.fb42abb7.js";import"./axios.e7b69eb3.js";import"./index.98bf713e.js";import"./vuex-persistedstate.fa252374.js";const g={class:"contanir component theme"},h=c((x=((e,r)=>{for(var s in r||(r={}))o.call(r,s)&&n(e,s,r[s]);if(t)for(var s of t(r))a.call(r,s)&&n(e,s,r[s]);return e})({},{name:"MyFriend"}),r(x,s({setup(e){const r=i(),s=d(),t=u(),o=f({userId:r.getters.user.userId,friendId:s.query.id,userInfo:{Id:0,name:"",avator:""}});l((()=>{})),m(o.friendId).then((e=>{o.userInfo=e.data[0]})).catch((e=>{b({type:"error",message:"获取用户信息失败："+e.message})}));const a=()=>{const e={sendId:Number(o.userId),recvId:Number(o.friendId)};p(e).then((e=>{t.push("/chat")})).catch((e=>{b({type:"error",message:"添加好友失败："+e.message})}))};return(e,r)=>(I(),j("div",g,[v("div",null,"Id："+y(O(o).userInfo.Id),1),v("div",null,"名称："+y(O(o).userInfo.name),1),v("div",null,[v("button",{onClick:a},"添加好友")])]))}}))));var x;export{h as default};

var x=Object.defineProperty,I=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var m=(n,t,a)=>t in n?x(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,_=(n,t)=>{for(var a in t||(t={}))b.call(t,a)&&m(n,a,t[a]);if(g)for(var a of g(t))C.call(t,a)&&m(n,a,t[a]);return n},u=(n,t)=>I(n,w(t));import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";import{d as p,r as B,l as y,o as f,e as k,m as c,y as H,x as P,u as h,E as W,G as z,a as $,f as N}from"./@vue.fb42abb7.js";const T=n=>(W("data-v-c127e2f0"),n=n(),z(),n),E={class:"component theme"},M=T(()=>c("div",{class:"box-arrow"},null,-1)),L={name:"gLuckyTurn"},V=p(u(_({},L),{props:{luckyW:{default:1500},luckyH:{default:1500},luckyImg:{default:"https://gem530.github.io/img/lucky_bg.png"},luckyIndex:{default:0},isShowPrz:{type:Boolean,default:!1}},emits:["endPlay"],setup(n,{emit:t}){const a=n,e=B({awardName:"",imgWidth:0,imgHeight:0,prize_list:[{},{},{},{},{},{},{},{}],start_rotating_degree:0,rotate_angle:0,start_rotating_degree_pointer:0,rotate_angle_pointer:0,rotate_transition:"transform 6s ease-in-out",rotate_transition_pointer:"transform 12s ease-in-out",click_flag:!0,index:0});y(()=>{const s=document.querySelector("#myCanvas");var l=s.getContext("2d");const r=new Image;r.crossorigin="Anonymous",r.src=a.luckyImg,r.onload=()=>{e.imgWidth=r.width,e.imgHeight=r.height,s.width=e.imgWidth,s.height=e.imgHeight,l.drawImage(r,0,0,666,665)}});const o=()=>{e.index=a.luckyIndex,i()},i=()=>{if(!!e.click_flag){var s=5,l=e.index,r=[337.5,292.5,247.5,202.5,157.5,112.5,67.5,22.5],v=4;e.click_flag=!1;var d=e.start_rotating_degree+v*360+r[l]-e.start_rotating_degree%360;e.start_rotating_degree=d,e.rotate_angle="rotate("+d+"deg)",setTimeout(()=>{e.click_flag=!0,t("endPlay",e.click_flag)},s*1e3+1500)}};return(s,l)=>(f(),k("div",E,[c("canvas",{id:"myCanvas",class:H(["wheel-bg-canvas",a.isShowPrz&&"demo_css"]),style:P({width:`${a.luckyW/750*10}rem`||"",height:`${a.luckyH/750*10}rem`||"",transform:h(e).rotate_angle,transition:h(e).rotate_transition})},null,6),c("div",{class:"box-btn"},[M,c("button",{onClick:o},"\u5F00\u59CB")])]))}}));var q=S(V,[["__scopeId","data-v-c127e2f0"]]);const A={class:"contanir theme"},F={name:"luckyTurn"},J=p(u(_({},F),{setup(n){const t=$(0);y(()=>{t.value=e(0,8)});const a=o=>{t.value=e(0,8)},e=(o,i)=>Math.floor(Math.random()*(i-o)+o);return(o,i)=>(f(),k("div",A,[c("div",null,[N(q,{luckyW:1500,luckyH:1500,luckyIndex:t.value,luckyImg:"https://gem530.github.io/img/lucky_bg.png",onEndPlay:a},null,8,["luckyIndex"])])]))}}));export{J as default};

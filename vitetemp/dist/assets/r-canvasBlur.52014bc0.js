var P=Object.defineProperty,U=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var C=(d,e,r)=>e in d?P(d,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):d[e]=r,w=(d,e)=>{for(var r in e||(e={}))$.call(e,r)&&C(d,r,e[r]);if(B)for(var r of B(e))q.call(e,r)&&C(d,r,e[r]);return d},y=(d,e)=>U(d,V(e));import{_ as z}from"./index.8485d9ac.js";import{d as b,a as A,A as M,o as j,g as k,l as H,z as L}from"./@vue.fa2a0fcd.js";import"./vuex.53515dac.js";import"./vue-router.e61f4c82.js";import"./vuex-persistedstate.fa252374.js";const O={name:"gCanvasBlur"},R=b(y(w({},O),{props:{x:{default:0},y:{default:0},url:{default:"https://gem530.github.io/img/33.jpg"},width:{default:200},height:{default:200}},setup(d){const e=d,r=A();M(async()=>{const g=await D(e.url);E(g,e.x,e.y,e.width,e.height)});const D=g=>{const s=g;return new Promise((u,f)=>{let a=new Image;a.crossOrigin="anonymous",a.src=s,a.onload=n=>{u(a)},a.onerror=()=>{f()}})},E=(g,s,u,f,a)=>{const n=document.createElement("canvas");let o=n.getContext("2d");const c=r.value.clientWidth,_=r.value.clientHeight;n.width=c,n.height=_,o.drawImage(g,0,0,c,_);let h=o.getImageData(s,u,f,a),m=N(h);o.putImageData(m,s,u);let v=n.toDataURL("image/jpeg"),t=new Image;t.src=v,r.value.appendChild(t)},N=g=>{let s=g.data,u=g.width,f=g.height;var a=[],n=0,o,c,_,h,m,v,t,i,p,I;let l=10,x=5;for(v=1/(Math.sqrt(2*Math.PI)*x),m=-1/(2*x*x),t=0,o=-l;o<=l;o++,t++)h=v*Math.exp(m*o*o),a[t]=h,n+=h;for(t=0,I=a.length;t<I;t++)a[t]/=n;for(c=0;c<f;c++)for(o=0;o<u;o++){for(_=h=m=v=0,n=0,i=-l;i<=l;i++)p=o+i,p>=0&&p<u&&(t=(c*u+p)*4,_+=s[t]*a[i+l],h+=s[t+1]*a[i+l],m+=s[t+2]*a[i+l],n+=a[i+l]);t=(c*u+o)*4,s[t]=_/n,s[t+1]=h/n,s[t+2]=m/n}for(o=0;o<u;o++)for(c=0;c<f;c++){for(_=h=m=v=0,n=0,i=-l;i<=l;i++)p=c+i,p>=0&&p<f&&(t=(p*u+o)*4,_+=s[t]*a[i+l],h+=s[t+1]*a[i+l],m+=s[t+2]*a[i+l],n+=a[i+l]);t=(c*u+o)*4,s[t]=_/n,s[t+1]=h/n,s[t+2]=m/n}return g};return(g,s)=>(j(),k("div",{class:"component theme",ref_key:"box",ref:r},null,512))}}));var S=z(R,[["__scopeId","data-v-68684a51"]]);const W={class:"contanir theme"},F={style:{width:"400px",height:"714px"}},G={name:"canvasBlur"},Z=b(y(w({},G),{setup(d){return M(()=>{}),(e,r)=>(j(),k("div",W,[H("div",F,[L(S,{x:200,y:200,url:"https://gem530.github.io/img/33.jpg",width:200,height:200})])]))}}));export{Z as default};

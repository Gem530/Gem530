var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,i=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))n.call(t,a)&&s(e,a,t[a]);return e},l=(e,r)=>t(e,a(r));import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{d as c,a as h,l as u,o as g,e as d,m as f,f as m}from"./@vue.fb42abb7.js";var v=p(c(l(i({},{name:"gCanvasBlur"}),{props:{x:{default:0},y:{default:0},url:{default:"https://gem530.github.io/img/33.jpg"},width:{default:200},height:{default:200}},setup(e){const t=e,a=h();u((async()=>{const e=await r(t.url);o(e,t.x,t.y,t.width,t.height)}));const r=e=>{const t=e;return new Promise(((e,a)=>{let r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=t=>{e(r)},r.onerror=()=>{a()}}))},o=(e,t,r,o,s)=>{const i=document.createElement("canvas");let l=i.getContext("2d");const p=a.value.clientWidth,c=a.value.clientHeight;i.width=p,i.height=c,l.drawImage(e,0,0,p,c);let h=l.getImageData(t,r,o,s),u=n(h);l.putImageData(u,t,r);let g=i.toDataURL("image/jpeg"),d=new Image;d.src=g,a.value.appendChild(d)},n=e=>{let t=e.data,a=e.width,r=e.height;var o,n,s,i,l,p,c,h,u,g,d=[],f=0;let m=10;for(p=1/(5*Math.sqrt(2*Math.PI)),l=-.02,c=0,o=-10;o<=m;o++,c++)i=p*Math.exp(l*o*o),d[c]=i,f+=i;for(c=0,g=d.length;c<g;c++)d[c]/=f;for(n=0;n<r;n++)for(o=0;o<a;o++){for(s=i=l=p=0,f=0,h=-10;h<=m;h++)(u=o+h)>=0&&u<a&&(s+=t[c=4*(n*a+u)]*d[h+m],i+=t[c+1]*d[h+m],l+=t[c+2]*d[h+m],f+=d[h+m]);t[c=4*(n*a+o)]=s/f,t[c+1]=i/f,t[c+2]=l/f}for(o=0;o<a;o++)for(n=0;n<r;n++){for(s=i=l=p=0,f=0,h=-10;h<=m;h++)(u=n+h)>=0&&u<r&&(s+=t[c=4*(u*a+o)]*d[h+m],i+=t[c+1]*d[h+m],l+=t[c+2]*d[h+m],f+=d[h+m]);t[c=4*(n*a+o)]=s/f,t[c+1]=i/f,t[c+2]=l/f}return e};return(e,t)=>(g(),d("div",{class:"component theme",ref_key:"box",ref:a},null,512))}})),[["__scopeId","data-v-68684a51"]]);const b={class:"contanir theme"},w={style:{width:"400px",height:"714px"}},y=c(l(i({},{name:"canvasBlur"}),{setup:e=>(u((()=>{})),(e,t)=>(g(),d("div",b,[f("div",w,[m(v,{x:200,y:200,url:"https://gem530.github.io/img/33.jpg",width:200,height:200})])])))}));export{y as default};

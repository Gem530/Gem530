var x=Object.defineProperty,I=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var m=(n,t,a)=>t in n?x(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,_=(n,t)=>{for(var a in t||(t={}))b.call(t,a)&&m(n,a,t[a]);if(g)for(var a of g(t))C.call(t,a)&&m(n,a,t[a]);return n},u=(n,t)=>I(n,w(t));import{_ as B}from"./index.8485d9ac.js";import{d as h,r as S,A as y,o as f,g as k,l as i,k as z,x as H,u as p,B as P,C as W,a as $,z as N}from"./@vue.fa2a0fcd.js";import"./vuex.53515dac.js";import"./vue-router.e61f4c82.js";import"./vuex-persistedstate.fa252374.js";const T=n=>(P("data-v-c127e2f0"),n=n(),W(),n),M={class:"component theme"},A=T(()=>i("div",{class:"box-arrow"},null,-1)),E={name:"gLuckyTurn"},L=h(u(_({},E),{props:{luckyW:{default:1500},luckyH:{default:1500},luckyImg:{default:"https://gem530.github.io/img/lucky_bg.png"},luckyIndex:{default:0},isShowPrz:{type:Boolean,default:!1}},emits:["endPlay"],setup(n,{emit:t}){const a=n,e=S({awardName:"",imgWidth:0,imgHeight:0,prize_list:[{},{},{},{},{},{},{},{}],start_rotating_degree:0,rotate_angle:0,start_rotating_degree_pointer:0,rotate_angle_pointer:0,rotate_transition:"transform 6s ease-in-out",rotate_transition_pointer:"transform 12s ease-in-out",click_flag:!0,index:0});y(()=>{const s=document.querySelector("#myCanvas");var l=s.getContext("2d");const r=new Image;r.crossorigin="Anonymous",r.src=a.luckyImg,r.onload=()=>{e.imgWidth=r.width,e.imgHeight=r.height,s.width=e.imgWidth,s.height=e.imgHeight,l.drawImage(r,0,0,666,665)}});const o=()=>{e.index=a.luckyIndex,c()},c=()=>{if(!!e.click_flag){var s=5,l=e.index,r=[337.5,292.5,247.5,202.5,157.5,112.5,67.5,22.5],v=4;e.click_flag=!1;var d=e.start_rotating_degree+v*360+r[l]-e.start_rotating_degree%360;e.start_rotating_degree=d,e.rotate_angle="rotate("+d+"deg)",setTimeout(()=>{e.click_flag=!0,t("endPlay",e.click_flag)},s*1e3+1500)}};return(s,l)=>(f(),k("div",M,[i("canvas",{id:"myCanvas",class:z(["wheel-bg-canvas",a.isShowPrz&&"demo_css"]),style:H({width:`${a.luckyW/750*10}rem`||"",height:`${a.luckyH/750*10}rem`||"",transform:p(e).rotate_angle,transition:p(e).rotate_transition})},null,6),i("div",{class:"box-btn"},[A,i("button",{onClick:o},"\u5F00\u59CB")])]))}}));var V=B(L,[["__scopeId","data-v-c127e2f0"]]);const q={class:"contanir theme"},F={name:"luckyTurn"},Q=h(u(_({},F),{setup(n){const t=$(0);y(()=>{t.value=e(0,8)});const a=o=>{t.value=e(0,8)},e=(o,c)=>Math.floor(Math.random()*(c-o)+o);return(o,c)=>(f(),k("div",q,[i("div",null,[N(V,{luckyW:1500,luckyH:1500,luckyIndex:t.value,luckyImg:"https://gem530.github.io/img/lucky_bg.png",onEndPlay:a},null,8,["luckyIndex"])])]))}}));export{Q as default};

var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,i=(e,t)=>{for(var o in t||(t={}))a.call(t,o)&&l(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&l(e,o,t[o]);return e},u=(e,n)=>t(e,o(n));import{d as r,a as f,l as p,o as c,e as h,m as g,x as d,f as m}from"./@vue.0069b3ae.js";const v=["src"],w=r(u(i({},{name:"g-scrape-music"}),{props:{url:{default:""},width:{default:"300px"},height:{default:"300px"},maxArea:{default:30}},emits:["getResult"],setup(e,{emit:t}){const o=e,n=f(),a=f();let s=f(!0);navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?s.value=!0:s.value=!1,p((()=>{"complete"===a.value.readyState?l():a.value.onload=function(){l()}}));const l=()=>{const e=document.createElement("canvas");e.width=a.value.width,e.height=a.value.height,e.style.position="absolute",e.style.zIndex=2,e.style.left=a.value.offsetLeft+"px",e.style.top=a.value.offsetTop+"px",a.value.parentNode.insertBefore(e,a.value);let l=e.getContext("2d");l.fillStyle="#bbb",l.fillRect(0,0,a.value.width,a.value.height),l.globalCompositeOperation="destination-out",l.strokeStyle="#eee",l.lineWidth=30,l.lineCap="round";const i=n.value.getBoundingClientRect().top,u=n.value.getBoundingClientRect().left;s.value?e.ontouchstart=function(t){let o=t.touches[0].pageX-e.offsetLeft-u,n=t.touches[0].pageY-e.offsetTop-i;l.beginPath(),l.arc(o,n,15,0,6.3,!1),l.fill(),e.ontouchmove=function(t){(t=t||window.event).preventDefault(),l.beginPath(),l.moveTo(o,n),l.lineTo(t.touches[0].pageX-e.offsetLeft-u,t.touches[0].pageY-e.offsetTop-i),o=t.touches[0].pageX-e.offsetLeft-u,n=t.touches[0].pageY-e.offsetTop-i,l.stroke()},document.ontouchend=function(){e.onmousemove=null,this.onmouseup=null,r()}}:e.onmousedown=function(t){let o=(t=t||window.event).pageX-e.offsetLeft-u,n=t.pageY-e.offsetTop-i;l.beginPath(),l.arc(o,n,15,0,6.3,!1),l.fill(),e.onmousemove=function(t){(t=t||window.event).preventDefault(),l.beginPath(),l.moveTo(o,n),l.lineTo(t.pageX-e.offsetLeft-u,t.pageY-e.offsetTop-i),o=t.pageX-e.offsetLeft-u,n=t.pageY-e.offsetTop-i,l.stroke()},document.onmouseup=function(){e.onmousemove=null,this.onmouseup=null,r()}};const r=()=>{let n=l.getImageData(0,0,e.width,e.height).data,a=0;for(let e=0;e<n.length;e+=4)0==n[e]&&0==n[e+1]&&0==n[e+2]&&0==n[e+3]&&a++;let s=100*a/(e.width*e.height);s>o.maxArea&&(l.beginPath(),l.fillRect(0,0,e.width,e.height)),t("getResult",{currentArea:s,isSuccess:s>o.maxArea})}};return(e,t)=>(c(),h("div",{class:"component theme",ref_key:"box",ref:n},[g("img",{ref_key:"oImg",ref:a,src:o.url,style:d(`width: ${o.width};height: ${o.height};`)},null,12,v)],512))}})),b={class:"contanir theme"},y=r(u(i({},{name:"scrapeMusic"}),{setup(e){p((()=>{}));const t=e=>{};return(e,o)=>(c(),h("div",b,[m(w,{url:"https://d1.faiusr.com/4/AAEIABAEGAAgtZ-56QUoufyr5gQw9gE4kwM.png",width:"300px",height:"400px",maxArea:20,onGetResult:t})]))}}));export{y as default};

var y=Object.defineProperty,C=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var p=(o,e,s)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,m=(o,e)=>{for(var s in e||(e={}))D.call(e,s)&&p(o,s,e[s]);if(d)for(var s of d(e))M.call(e,s)&&p(o,s,e[s]);return o},_=(o,e)=>C(o,I(e));import{d as R,a as k,r as w,l as S,o as U,e as A,f as B,A as E,m as n,z as h,B as L,C as P,u as b}from"./@vue.fb42abb7.js";import{u as z}from"./vuex.98bef695.js";import{u as G}from"./vue-router.976535db.js";import{G as u}from"./index.67903aaa.js";import{g as N}from"./index.fc42718f.js";import{g as V,a as $}from"./index.b27fe81c.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";import"./index.6f7a580a.js";import"./vuex-persistedstate.fa252374.js";import"./axios.e7b69eb3.js";const W={class:"component theme"},j=["onClick"],q={class:"chat-item"},F={class:"chat-name"},J={name:"g-mobile-home"},K=R(_(m({},J),{setup(o){const e=z(),s=G(),l=k(),r=w({page:1,list:[],pageSize:10});S(()=>{});const c=(a="pull")=>{V(e.getters.user.userId).then(t=>{a==="drop"?l.value.pullSuccess():(t.data.length===1&&t.data[0].send_id===null?r.list=[]:(r.list=[...r.list,...t.data],g()),l.value.noMoreData())}).catch(t=>{u({message:t.message,type:"error"})})},g=()=>{$(e.getters.user.userId).then(a=>{!r.list.length||r.list.forEach(t=>{a.data.forEach(i=>{t.send_id===i.send_id?t.total=i.total:t.total=0})})}).catch(a=>{u({message:a.message,type:"error"})})},f=a=>{const t={Id:a.send_id,name:a.name,avator:""};e.dispatch("setChatRoomAction",t),s.push(`/chatRoom?id=${t.Id}`)},v=()=>{r.page=1,r.list=[],c("drop")},x=()=>{c("pull")};return(a,t)=>(U(),A("div",W,[B(N,{ref_key:"refershRef",ref:l,list:b(r).list,height:"calc(100vh - 50px)",itemHeight:90,onDropDown:v,onPullUp:x},{default:E(i=>[n("div",{style:{height:"60px","line-height":"60px","border-bottom":"1px solid #000"},onClick:O=>f(i.item)},[n("div",q,[n("div",F,h(i.item.name),1),L(n("div",{class:"chat-total"},h(i.item.total),513),[[P,i.item.total]])])],8,j)]),_:1},8,["list"])]))}}));var ie=H(K,[["__scopeId","data-v-1968706a"]]);export{ie as default};

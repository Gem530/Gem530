var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,p=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,s=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&p(e,a,t[a]);if(o)for(var a of o(t))r.call(t,a)&&p(e,a,t[a]);return e},i=(e,o)=>t(e,a(o));import{d as l,a as g,r as c,l as d,o as u,e as h,m as x,B as f,O as v,f as w}from"./@vue.17df1b64.js";import{_ as m}from"./plugin-vue_export-helper.21dcd24c.js";var b=m(l(i(s({},{name:"g-draw-font"}),{props:{text:{default:"富强、民主、文明、和谐、自由、平等、公正、法治、爱国、敬业、诚信、友善、"}},setup(e){const t=e,a=g(),o=g(),n=c({canvas:null,ctx:null,width:0,height:0,text:"",textIndex:0,fontSize:5,isPc:!0,downFlag:!1,point:{pageX:0,pageY:0}});d((()=>{navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?n.isPc=!1:n.isPc=!0,n.width=600,n.height=600,r()}));const r=()=>{n.canvas=a,n.ctx=n.canvas.getContext("2d"),n.canvas.width=n.width,n.canvas.height=n.height},p=e=>{let t={pageX:0,pageY:0};if(n.isPc)t={pageX:e.pageX,pageY:e.pageY};else{const a=e;t={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY}}return t},s=e=>{const t=p(e);n.downFlag=!0,n.point={pageX:t.pageX,pageY:t.pageY}},i=e=>{if(!n.downFlag)return;const a=p(e),r=n.ctx,s=o.value.getBoundingClientRect().top,i=o.value.getBoundingClientRect().left,l=w(a,n.point),g=t.text[n.textIndex],c=n.fontSize+l/2,d=m(c,g);var u=Math.atan2(a.pageY-n.point.pageY,a.pageX-n.point.pageX);l>d&&(r.font=c+"px Arial",r.fillStyle=f(),r.save(),r.translate(n.point.pageX-i,n.point.pageY-s),r.rotate(u),r.fillText(g,0,0),r.restore(),n.textIndex=n.textIndex>=t.text.length-1?0:n.textIndex+1,n.point={pageX:a.pageX,pageY:a.pageY})},l=e=>{p(e),n.downFlag=!1,n.textIndex=0},f=()=>`rgb(${v(0,255)},${v(0,255)},${v(0,255)})`,v=(e,t)=>Math.floor(Math.random()*(t-e)+e),w=(e,t)=>Math.sqrt(Math.pow(t.pageX-e.pageX,2)+Math.pow(t.pageY-e.pageY,2)),m=(e,t)=>{const a=n.ctx;return a.font=e+"px Arial",a.fillText?a.measureText(t).width:a.mozDrawText?a.mozMeasureText(t):void 0};return(e,t)=>(u(),h("div",{class:"component theme",ref_key:"box",ref:o},[x("canvas",{class:"myCanvas",ref_key:"myCanvasRef",ref:a,onMousedown:s,onMousemove:i,onMouseup:l,onTouchStart:s,onTouchMove:i,onTouchEnd:l},null,544)],512))}})),[["__scopeId","data-v-a2b8385a"]]);const y={class:"contanir theme"},X=l(i(s({},{name:"drawFont"}),{setup(e){const t=g("富强、民主、文明、和谐、自由、平等、公正、法治、爱国、敬业、诚信、友善、");return d((()=>{})),(e,a)=>(u(),h("div",y,[f(x("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),style:{width:"100%"}},null,512),[[v,t.value]]),w(b,{text:t.value},null,8,["text"])]))}}));export{X as default};

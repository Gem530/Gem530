var L=Object.defineProperty,$=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var w=(s,t,e)=>t in s?L(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,_=(s,t)=>{for(var e in t||(t={}))z.call(t,e)&&w(s,e,t[e]);if(v)for(var e of v(t))V.call(t,e)&&w(s,e,t[e]);return s},h=(s,t)=>$(s,S(t));import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";import{d as H,a as p,r as y,w as C,n as x,c as F,l as N,o as n,e as c,v as d,F as M,q,B as D,P as E,u,G,z as k,f as I,H as P}from"./@vue.10c5446f.js";const j={class:"component theme"},A={name:"g-wirless-list"},J=H(h(_({},A),{props:{list:{default:()=>[]},showNum:{default:10},itemHeight:{default:30}},emits:["loadmore"],setup(s,{emit:t}){const e=s,r=p(),i=p(),a=p(),l=y({start:0,end:e.showNum});C(()=>e.list,(o,m)=>{x(()=>{f()})},{deep:!0});const b=F(()=>e.list.slice(l.start,l.end));N(()=>{f()});const B=()=>{const o=i.value;o.scrollHeight-o.scrollTop-5<=o.clientHeight&&t("loadmore",!0);let m=i.value.scrollTop;l.start=Math.round(m/e.itemHeight),l.end=l.start+e.showNum,r.value.style.top=l.start*e.itemHeight+"px"},f=()=>{const o=i.value;o.style.height=e.itemHeight*e.showNum+"px",a.value.style.height=e.itemHeight*e.list.length+"px",x(()=>{o.scrollHeight-o.scrollTop-5<=o.clientHeight&&t("loadmore",!0)})};return(o,m)=>(n(),c("div",j,[d("div",{class:"list-wrap",ref_key:"listWrap",ref:i,onScroll:B},[d("div",{class:"scroll-bar",ref_key:"scrollBar",ref:a},null,512),d("div",{class:"list",ref_key:"list",ref:r},[(n(!0),c(M,null,q(u(b),(g,T)=>(n(),c("div",{key:T,style:D(`height: ${e.itemHeight}px;`)},[E(o.$slots,"default",{item:g},()=>[G(k(g),1)],!0)],4))),128))],512)],544)]))}}));var K=W(J,[["__scopeId","data-v-e5e27f92"]]);const O={class:"contanir theme"},Q={style:{color:"red","box-sizing":"border-box",border:"1px solid blue"}},R={name:"wirlessList"},Z=H(h(_({},R),{setup(s){const t=y({list:[1,2,3,4,5,6,7,8,9,10],showNum:10,itemHeight:30});N(()=>{});const e=r=>{t.list=[...t.list,1,2,3,4,5,6,7,8,9,10]};return(r,i)=>(n(),c("div",O,[I(K,{list:u(t).list,showNum:u(t).showNum,itemHeight:u(t).itemHeight,onLoadmore:e},{default:P(a=>[d("div",Q,k(a.item),1)]),_:1},8,["list","showNum","itemHeight"])]))}}));export{Z as default};

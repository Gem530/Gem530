var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,s=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&i(e,a,t[a]);return e},l=(e,r)=>t(e,a(r));import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";import{d as g,r as u,l as d,o as m,e as y,m as p,y as _,x as f,u as h,E as v,G as k,a as b,f as w}from"./@vue.17df1b64.js";const x={class:"component theme"},I=(e=>(v("data-v-c127e2f0"),e=e(),k(),e))((()=>p("div",{class:"box-arrow"},null,-1)));var P=c(g(l(s({},{name:"gLuckyTurn"}),{props:{luckyW:{default:1500},luckyH:{default:1500},luckyImg:{default:"https://gem530.github.io/img/lucky_bg.png"},luckyIndex:{default:0},isShowPrz:{type:Boolean,default:!1}},emits:["endPlay"],setup(e,{emit:t}){const a=e,r=u({awardName:"",imgWidth:0,imgHeight:0,prize_list:[{},{},{},{},{},{},{},{}],start_rotating_degree:0,rotate_angle:0,start_rotating_degree_pointer:0,rotate_angle_pointer:0,rotate_transition:"transform 6s ease-in-out",rotate_transition_pointer:"transform 12s ease-in-out",click_flag:!0,index:0});d((()=>{const e=document.querySelector("#myCanvas");var t=e.getContext("2d");const n=new Image;n.crossorigin="Anonymous",n.src=a.luckyImg,n.onload=()=>{r.imgWidth=n.width,r.imgHeight=n.height,e.width=r.imgWidth,e.height=r.imgHeight,t.drawImage(n,0,0,666,665)}}));const n=()=>{r.index=a.luckyIndex,o()},o=()=>{if(r.click_flag){var e=r.index;r.click_flag=!1;var a=r.start_rotating_degree+1440+[337.5,292.5,247.5,202.5,157.5,112.5,67.5,22.5][e]-r.start_rotating_degree%360;r.start_rotating_degree=a,r.rotate_angle="rotate("+a+"deg)",setTimeout((()=>{r.click_flag=!0,t("endPlay",r.click_flag)}),6500)}};return(e,t)=>(m(),y("div",x,[p("canvas",{id:"myCanvas",class:_(["wheel-bg-canvas",a.isShowPrz&&"demo_css"]),style:f({width:a.luckyW/750*10+"rem"||"",height:a.luckyH/750*10+"rem"||"",transform:h(r).rotate_angle,transition:h(r).rotate_transition})},null,6),p("div",{class:"box-btn"},[I,p("button",{onClick:n},"开始")])]))}})),[["__scopeId","data-v-c127e2f0"]]);const O={class:"contanir theme"},j=g(l(s({},{name:"luckyTurn"}),{setup(e){const t=b(0);d((()=>{t.value=r(0,8)}));const a=e=>{t.value=r(0,8)},r=(e,t)=>Math.floor(Math.random()*(t-e)+e);return(e,r)=>(m(),y("div",O,[p("div",null,[w(P,{luckyW:1500,luckyH:1500,luckyIndex:t.value,luckyImg:"https://gem530.github.io/img/lucky_bg.png",onEndPlay:a},null,8,["luckyIndex"])])]))}}));export{j as default};

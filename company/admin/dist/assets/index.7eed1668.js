import{O as e}from"./element-plus.1a8f7ccb.js";import{b as a}from"./base.cc75b0f9.js";import{k as s,K as t,d as r,j as l,f as o,o as p,T as d,J as m,u,F as i,g as n,c,W as f,a as j}from"./@vue.df4a0536.js";import"./@vueuse.ca8459fe.js";import"./@element-plus.5fd8ebeb.js";import"./lodash-es.503fa2cd.js";import"./dayjs.6e4093f3.js";import"./axios.68af02ab.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.b0f22997.js";import"./index.f5ed39b5.js";import"./pinia.447e158a.js";import"./vue-router.3b0bf160.js";import"./nprogress.058bccf8.js";import"./pako.fc44881c.js";import"./mitt.550594b0.js";import"./ws.f1fd17a3.js";const b=s({__name:"index",props:{req:{default:{method:"get",url:"/system/menu/treeselect"}},props:{default:{value:"id",label:"label",children:"children"}},width:{default:350},placeholder:{default:"请选择"},modelValue:null},emits:["select","update:modelValue"],setup(s,{emit:c}){const f=s,j=t(),{proxy:b}=n(),h=f.props.value||"id",v=f.props.label||"label",V=f.props.children||"children",q=r([]),x=l({get:()=>f.modelValue,set(e){c("update:modelValue",e)}});o((()=>{(()=>{if(!f.req)return;const e=f.req.params?f.req.params:void 0,s={data:f.req.data?f.req.data:void 0,params:e,url:f.req.url,method:f.req.method};a(s).then((e=>{let a=[{}];a[0][h]=0,a[0][v]="主类目",a[0][V]=e.data||[],q.value=a})).catch((e=>{b.$modal.message({type:"error",message:e.message})}))})()}));const g=e=>{c("select",e)};return(a,s)=>{const t=e;return p(),d(t,m({"check-strictly":""},{...u(j)},{data:q.value,modelValue:u(x),"onUpdate:modelValue":s[0]||(s[0]=e=>i(x)?x.value=e:null),props:f.props,"render-after-expand":!1,onNodeClick:g}),null,16,["data","modelValue","props"])}}}),h=j("h2",null,"树形组件",-1),v=s({__name:"index",setup(e){const a=r(""),s=e=>{};return(e,t)=>{const r=b;return p(),c("div",null,[h,f(r,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),onSelect:s},null,8,["modelValue"])])}}});export{v as default};

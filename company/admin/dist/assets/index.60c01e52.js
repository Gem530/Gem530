import{_ as e,a}from"./index.vue_vue_type_script_setup_true_name_g-table_lang.ff194d02.js";import{P as t,i as l}from"./element-plus.1a8f7ccb.js";import{i as s}from"./index.f5ed39b5.js";import{l as r}from"./other.8097608d.js";import{k as i,d as o,$ as p,o as n,c as u,W as m,U as d,a8 as c,Y as b,T as v,Q as y,a as f,n as g,g as h}from"./@vue.df4a0536.js";import"./index.7ae2f1d9.js";import"./index.vue_vue_type_script_setup_true_name_wang-editor_lang.6813ac8c.js";import"./base.cc75b0f9.js";import"./index.b0f22997.js";import"./axios.68af02ab.js";import"./@wangeditor.6de03d2f.js";import"./index.2157c526.js";import"./dayjs.6e4093f3.js";import"./@vueuse.ca8459fe.js";import"./@element-plus.5fd8ebeb.js";import"./lodash-es.503fa2cd.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./pinia.447e158a.js";import"./vue-router.3b0bf160.js";import"./nprogress.058bccf8.js";import"./pako.fc44881c.js";import"./mitt.550594b0.js";import"./ws.f1fd17a3.js";const j=f("h2",null,"菜单管理",-1),_=c("新增"),w=c("编辑"),x=c("parentId1111"),C=c("icon1111"),T=i({__name:"index",setup(i){const{proxy:f}=h(),T=o(!0),k=o(),F=o(!1),H=o([]),N=[{visible:!0,sort:2,attrs:{align:"left",width:""},type:"menuName",label:"菜单名称"},{visible:!0,sort:3,attrs:{align:"center",width:""},type:"icon",label:"图标"},{visible:!0,sort:4,attrs:{align:"center",width:""},type:"orderNum",label:"排序"},{visible:!0,sort:5,attrs:{align:"center",width:""},type:"perms",label:"权限标识"},{visible:!0,sort:6,attrs:{align:"center",width:""},type:"component",label:"组件路径"},{visible:!0,sort:6,attrs:{align:"center",width:""},type:"status",label:"状态"},{visible:!0,sort:9,attrs:{align:"center",width:""},type:"createTime",label:"创建时间"},{visible:!0,sort:8,slot:"make"}],I=p({show:!1,dialogRules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]},dialogFormList:[{value:0,type:"slot",prop:"parentId",label:"上级菜单",attrs:{clearable:!0}},{value:"M",type:"radio",prop:"menuType",label:"菜单类型",data:[{label:"目录",value:"M"},{label:"菜单",value:"C"},{label:"按钮",value:"F"}]},{type:"slot",prop:"icon",label:"菜单图标",isHide:e=>"F"===e.menuType},{col:12,type:"input",prop:"menuName",label:"菜单名称",attrs:{type:"text"}},{col:12,type:"number",prop:"orderNum",label:"显示排序"},{col:12,value:1,type:"radio",prop:"isFrame",label:"是否外链",data:[{label:"是",value:0},{label:"否",value:1}],isHide:e=>"F"===e.menuType},{col:12,type:"input",prop:"path",label:"路由地址",attrs:{type:"text"},isHide:e=>"F"===e.menuType},{col:12,type:"input",prop:"component",label:"组件路径",attrs:{type:"text"},isHide:e=>"C"!==e.menuType},{col:12,type:"input",prop:"perms",label:"权限字符",attrs:{type:"text"},isHide:e=>"M"===e.menuType},{col:12,type:"input",prop:"query",label:"路由参数",attrs:{type:"text"},isHide:e=>"C"!==e.menuType},{col:12,value:1,type:"radio",prop:"isCache",label:"是否缓存",data:[{label:"缓存",value:0},{label:"不缓存",value:1}],isHide:e=>"C"!==e.menuType},{col:12,value:"0",type:"radio",prop:"visible",label:"显示状态",data:[{label:"显示",value:"0"},{label:"隐藏",value:"1"}],isHide:e=>"F"===e.menuType},{col:12,value:"0",type:"radio",prop:"status",label:"菜单状态",data:[{label:"正常",value:"0"},{label:"停用",value:"1"}],isHide:e=>"F"===e.menuType}]});r({status:"",menuName:""}).then((e=>{const a=s(e.data,"menuId");H.value=a})).catch((e=>{f.$modal.message({type:"error",message:e.message})}));const q=()=>{T.value=!1,F.value=!F.value,g((()=>{T.value=!0}))},L=e=>{};return(s,r)=>{const i=l,o=t,p=e,f=a;return n(),u("div",null,[j,m(i,{onClick:r[0]||(r[0]=e=>I.show=!0)},{default:d((()=>[_])),_:1}),m(i,{onClick:q},{default:d((()=>[c(b(F.value?"折叠":"展开"),1)])),_:1}),T.value?(n(),v(p,{key:0,hidePage:"","row-key":"menuId",data:H.value,columns:N,"default-expand-all":F.value,"tree-props":{children:"children",hasChildren:"hasChildren"}},{"column-status":d((e=>[c(b(0==e.row.status?"正常":"停用"),1)])),"column-icon":d((e=>[c(b("#"===e.row.icon?"":e.row.icon),1)])),"table-column-make":d((()=>[m(o,{fixed:"right",label:"操作",align:"center"},{default:d((e=>[m(i,{onClick:a=>{return t=e.row,k.value.initModalData(t,"编辑菜单"),void(I.show=!0);var t}},{default:d((()=>[w])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","default-expand-all"])):y("",!0),m(f,{title:"菜单",ref_key:"modalFormRef",ref:k,show:I.show,"onUpdate:show":r[1]||(r[1]=e=>I.show=e),rules:I.dialogRules,formList:I.dialogFormList,onConfirm:L},{parentId:d((()=>[x])),icon:d((()=>[C])),_:1},8,["show","rules","formList"])])}}});export{T as default};
